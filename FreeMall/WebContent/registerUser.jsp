<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"> <%   	String context =request.getContextPath();  %>	<head>		<title>零元汇合伙人管理系统</title>		<meta http-equiv="pragma" content="no-cache">		<meta http-equiv="cache-control" content="no-cache">		<meta http-equiv="expires" content="0">		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">		<meta http-equiv="description" content="This is my page">		<script type="text/javascript" src="<%=context %>/source/editAddress.js" charset="utf-8"></script>        <script type="text/javascript" src="<%=context %>/source/jquery.js" charset="utf-8"></script>	</head><body style="width:100%; margin:0px; padding:0px; font-size:13px;text-align:center">	<script type="text/javascript" language="javascript">		function updatePsdOk(){		   var username = document.getElementById("username").value;		   var code = document.getElementById("verifiCode").value;		   var codeStr=document.getElementById("codeStr").value;  	       var newPsd = document.getElementById("password").value;		   var newPsdAgain = document.getElementById("newPsdAgain").value;		   var text=document.getElementById("showCheck").innerText;		   if(username==null || username==""){			   alert("手机号码不能为空");			   document.getElementById("username").focus();			   return; 		   }		   if(username!="" && !validatePhone(username)){			   alert("手机号码格式不正确,请重新输入");			   document.getElementById("username").focus();			   return;		   }		   if(code==null || code==""){			   alert("验证码不能为空");			   document.getElementById("verifiCode").focus();			   return;		   }		   if(code!="" && codeStr!="" && code!=codeStr){			   alert("验证码不正确,请重新输入!");			   document.getElementById("verifiCode").focus();			   return;		   }		   if(newPsd == "" || newPsdAgain == ""){		      alert("密码不能为空");		      document.getElementById("password").focus();		      return;		    }		   if(newPsd != newPsdAgain){		       alert("新密码2次输入不一致");		       document.getElementById("password").focus();		       return;		   } 		   		   if(newPsd!="" && newPsdAgain!="" && (newPsd.length < 6 || newPsd.length > 20 || newPsdAgain.length < 6 || newPsdAgain.length > 20)){			   alert("密码长度不能小于6位且大于20位,请重新输入密码");			   document.getElementById("password").focus();			   return;	       }		   var ls = 0;		   if(newPsd.match(/([a-z])+/)){ls++;}		   if(newPsd.match(/([0-9])+/)){ls++;}		   if(newPsd.match(/([A-Z])+/)){ls++;}		   if(newPsd.match(/[^a-zA-Z0-9]+/)){ls++;}		   if(ls>3){		       alert("密码复杂度不够,请重新设置");		       document.getElementById("password").focus();			   return;		   }		    		   if(text!=null && text!=""){			   alert(text);			   document.getElementById("username").focus();			   return;		   }		    document.LoginForm.method.value="registerUser";		    document.LoginForm.submit();		}				function getVerifiCode() {			var b=document.getElementById("username").value;			if(b==null||b==""){				alert("请先填写手机号码");				document.getElementById("username").focus();				return;		    }else{		    	if(!validatePhone(b)){				     alert("请填写正确的手机号码格式");				     document.getElementById("username").focus();				     return;				}		    }						$.ajax({				type: "POST",				url: "<%=context%>/verificode.do?method=sendCode&receiverMobile="+b,				data: '',				success: function(msg){					alert(msg.split("|")[1]);					if (msg.split("|")[0]=='000000') {						document.getElementById("codeStr").value=msg.split("|")[1];						var count = 60;						var countdown = setInterval(CountDown, 1000);						function CountDown() {		                    $("#btn").attr("disabled", true);		                    $("#btn").val("您在" + count + " 秒后可以再次获取!");		                    if (count == 0) {		                        $("#btn").val("重新获取验证码").removeAttr("disabled");		                        clearInterval(countdown);		                    }		                    count--;		                }											} else {						alert("系统繁忙，请稍后重试");						return;					} 				}			});		}			function updateValue(){			var username=document.getElementById("username").value;			if(username!="" && !validatePhone(username)){			     alert("请填写正确的手机号码格式");			     document.getElementById("showCheck").innerText="请填写正确的手机号码格式";			     return;			}						$.ajax({				type: "POST",				url: "<%=context%>/userLoginlist.do?method=checkUserName&username="+username,				data: '',				success: function(data){					if (data=="2") {						document.getElementById("showCheck").innerText="该手机号已注册";					} 				}			});		}	</script>		<form name="LoginForm" method="post" action="userLoginlist.do">	<div class="box">			<div class="box_top"><h2 align="center">用户注册</h2></div>			<div class="box_center">    		<table class="table1" align="center">			<tr>			   <td align="center">			       <input type="hidden" name="method" id="method"/>			       <input type="hidden" name="mobile" value="1111"/>			       <input type="hidden" name="appearance" value="1"/>			       <input type="hidden" name="isClient" value="1"/>			       <input type="hidden" name="codeStr" id="codeStr"/>			   </td>			</tr>		<tr >			<td align="right" width="400px">				手机号码：			</td>			<td align="left">				&nbsp;&nbsp;<input type ="text" name="username" id="username" size="30" onchange="updateValue()"/>				&nbsp;&nbsp;<font color="red">*<span id="showCheck"></span></font>			</td>		</tr>		<tr >			<td align="right" width="400px">				验证码：			</td>			<td align="left">				&nbsp;&nbsp;<input type="tel" id="verifiCode" placeholder="验证码" size="13"/>	         <input type="button" class="save" onclick="getVerifiCode()" value="获取验证码" id="btn"/>			</td>		</tr>		<tr >			<td align="right" width="400px">&nbsp;&nbsp;</td>						<td align="left">				<font color="red">6个到20个大小写英文字母、特殊符号或数字</font>			</td>		</tr>		<tr style="margin-bottom:5px;">			<td align="right">				密码：			</td>			<td align="left">				&nbsp;&nbsp;<input type ="password" name="password" id="password" size="30" />&nbsp;&nbsp;<font color="red">*</font>			</td>		</tr>		<tr>			<td align="right">				确认密码：			</td>			<td align="left">				&nbsp;&nbsp;<input type ="password" name="newPsdAgain" id="newPsdAgain" size="30"/>&nbsp;&nbsp;<font color="red">*</font>			</td>		</tr>		<tr>			<td align="center"  colspan="2">				&nbsp;			</td>		</tr>		<tr>			<td align="center"  colspan="2">				<input type="button" class="buttonClass" value="确 认" onclick="updatePsdOk()" />				<input type="button" class="buttonClass" value="取消" onclick="history.go(-1)" />			</td>		</tr>	</table>	</div>			<div class="box_bottom"></div>			</div>    	</form></body></html>