<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"> <%   	String context =request.getContextPath();  %>	<head>		<title>零元汇合伙人管理系统</title>		<link href="css/bootstrap.min.css" rel="stylesheet">	    <!-- <link href="css/datepicker3.css" rel="stylesheet">	    <link href="css/styles.css" rel="stylesheet"> -->	    <style type="text/css">		html,body {			height: 100%;		}		.box {			/*filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#6699FF', endColorstr='#6699FF');   IE */			/*background-image:linear-gradient(bottom, #6699FF 0%, #6699FF 100%);			background-image:-o-linear-gradient(bottom, #6699FF 0%, #6699FF 100%);			background-image:-moz-linear-gradient(bottom, #6699FF 0%, #6699FF 100%);			background-image:-webkit-linear-gradient(bottom, #6699FF 0%, #6699FF 100%);			background-image:-ms-linear-gradient(bottom, #6699FF 0%, #6699FF 100%); */						background-color:#f1f4f7;						margin: 0 auto;			position: relative;			width: 100%;			height: 100%;		}		.login-box {			width: 100%;			max-width:500px;			height: 400px;			position: absolute;			top: 50%;					margin-top: -200px;			/*设置负值，为要定位子盒子的一半高度*/					}		@media screen and (min-width:500px){			.login-box {				left: 50%;				/*设置负值，为要定位子盒子的一半宽度*/				margin-left: -250px;			}		}					.form {			width: 100%;			max-width:500px;			/* height: 275px; */			margin: 25px auto 0px auto;			padding-top: 25px;		}			.login-content {			/* height: 300px; */			width: 100%;			max-width:500px;			background-color: rgba(255, 250, 2550, .6);			float: left;		}										.input-group {			margin: 0px 0px 40px 0px !important;		}		.form-control,		.input-group {			height: 40px;		}				.form-group {			margin-bottom: 0px !important;		}		.login-title {			padding: 20px 10px;			background-color: rgba(45,157, 243, .6);		}		.login-title h1 {			margin-top: 10px !important;		}		.login-title small {			color: #fff;		}				.link p {			line-height: 20px;			margin-top: 30px;		}		.btn-sm {			padding: 8px 24px !important;			font-size: 16px !important;		}		</style>		<script type="text/javascript" src="<%=context %>/source/editAddress.js" charset="utf-8"></script>        <script type="text/javascript" src="<%=context %>/source/jquery.js" charset="utf-8"></script>        <script type="text/javascript" language="javascript">		function updatePsdOk(){		   var username = document.getElementById("username").value;		  // var code = document.getElementById("verifiCode").value;		  // var codeStr=document.getElementById("codeStr").value;  	       var newPsd = document.getElementById("password").value;		   var newPsdAgain = document.getElementById("newPsdAgain").value;		   var text=document.getElementById("showCheck").innerText;		   if(!username){			   document.getElementById("showCheck").innerText="手机号码不能为空";			   document.getElementById("username").focus();			   return; 		   }		   if(!username && !validatePhone(username)){			   document.getElementById("showCheck").innerText="手机号码格式不正确,请重新输入";			   document.getElementById("username").focus();			   return;		   }		 //  if(code==null || code==""){		//	   alert("验证码不能为空");		//	   document.getElementById("verifiCode").focus();		//	   return;		//   }		//   if(code!="" && codeStr!="" && code!=codeStr){		//	   alert("验证码不正确,请重新输入!");		//	   document.getElementById("verifiCode").focus();		//	   return;		//   }		   if(!newPsd){		      document.getElementById("showCheck").innerText="密码不能为空";		      document.getElementById("password").focus();		      return;		    }		   if(!newPsdAgain){			      			      document.getElementById("showCheck").innerText="确认密码不能为空";			      document.getElementById("newPsdAgain").focus();			      return;			    }		   if(newPsd != newPsdAgain){		       		       document.getElementById("showCheck").innerText="新密码2次输入不一致";		       document.getElementById("password").focus();		       return;		   } 		   		   if(newPsd!="" && newPsdAgain!="" && (newPsd.length < 6 || newPsd.length > 20 || newPsdAgain.length < 6 || newPsdAgain.length > 20)){			   			 document.getElementById("showCheck").innerText="密码长度不能小于6位且大于20位,请重新输入密码";			   document.getElementById("password").focus();			   return;	       }		   var ls = 0;		   if(newPsd.match(/([a-z])+/)){ls++;}		   if(newPsd.match(/([0-9])+/)){ls++;}		   if(newPsd.match(/([A-Z])+/)){ls++;}		   if(newPsd.match(/[^a-zA-Z0-9]+/)){ls++;}		   if(ls>3){		       		       document.getElementById("showCheck").innerText="密码复杂度不够,请重新设置";		       document.getElementById("password").focus();			   return;		   }		    		   if(text!=null && text!=""){			   alert(text);			   document.getElementById("username").focus();			   return;		   }		   document.LoginForm.mobile.value=username;		    document.LoginForm.method.value="registerUser";		    document.LoginForm.submit();		}				function getVerifiCode() {			var b=document.getElementById("username").value;			if(b==null||b==""){								document.getElementById("showCheck").innerText="请先填写手机号码";				document.getElementById("username").focus();				return;		    }else{		    	if(!validatePhone(b)){				     				     document.getElementById("showCheck").innerText="请填写正确的手机号码格式";				     document.getElementById("username").focus();				     return;				}		    }						$.ajax({				type: "POST",				url: "<%=context%>/verificode.do?method=sendCode&receiverMobile="+b,				data: '',				success: function(msg){					if (msg.split("|")[0]=='000000') {						document.getElementById("codeStr").value=msg.split("|")[1];						var count = 60;						var countdown = setInterval(CountDown, 1000);						function CountDown() {		                    $("#btn").attr("disabled", true);		                    $("#btn").val("您在" + count + " 秒后可以再次获取!");		                    if (count == 0) {		                        $("#btn").val("重新获取验证码").removeAttr("disabled");		                        clearInterval(countdown);		                    }		                    count--;		                }											} else {						alert("系统繁忙，请稍后重试");						return;					} 				}			});		}			function updateValue(){			var username=document.getElementById("username").value;			if(username!="" && !validatePhone(username)){			     document.getElementById("showCheck").innerText="请填写正确的手机号码格式";			     return;			}						$.ajax({				type: "POST",				url: "<%=context%>/userLoginlist.do?method=checkUserName&username="+username,				data: '',				success: function(data){					if (data=="2") {						document.getElementById("showCheck").innerText="该手机号已注册";					}else{						document.getElementById("showCheck").innerText="";					}				}			});		}	</script>	</head><body>		<div class="box">		<div class="login-box">			<div class="login-title text-center">				<h1><small>欢迎使用注册零元汇合伙人</small></h1>			</div>			<div class="login-content ">			<div class="form">			<form name="LoginForm" method="post" action="userLoginlist.do">				<!-- <input type="hidden" name="method" value="registerUser"/> -->				<div class="form-group">					<div class="col-xs-12  ">					<font color="red"><span id="showCheck"></span></font>					</div>				</div>								<div class="form-group">					<div class="col-xs-12  ">						<div class="input-group" id="mobilegroup">							<span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>							<!-- <input type="text" id="username" name="username" class="form-control" placeholder="手机号"> -->							<input class="form-control" placeholder="手机号码" name="username" id="username" onchange="updateValue()"/>							<input type="hidden" name="method" id="method"/>			                <input type="hidden" name="mobile"/>			                    <input type="hidden" name="appearance" value="1"/>			                    <input type="hidden" name="isClient" value="1"/>			                    <input type="hidden" name="codeStr" id="codeStr"/>						</div>					</div>				</div>				<div class="form-group">					<div class="col-xs-12  ">						<div class="input-group">							<span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>							<input class="form-control" placeholder="密码" type="password" name="password" id="password">						</div>					</div>				</div>				<div class="form-group">					<div class="col-xs-12  ">						<div class="input-group">							<span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>							<!-- <input type="text" id="password" name="password" class="form-control" placeholder="密码"> -->							<input class="form-control" placeholder="再次确认密码" type="password" name="newPsdAgain" id="newPsdAgain">						</div>					</div>				</div>				<div class="form-group form-actions">					<div class="col-xs-6 col-xs-offset-3 ">						<!-- <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-off"></span> 登录</button> -->						<button type="button" class="btn btn-primary" onclick="updatePsdOk()"><span class="glyphicon glyphicon-off"></span>立即注册</button>&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" class="btn btn-primary" onclick="history.go(-1)">取消</button>					</div>				</div>			</form>			</div>		</div>	</div>	</div>	<script type="text/javascript">		$("mobilegroup").css("height","24");	</script></body></html>