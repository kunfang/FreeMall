<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%><%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c1"%><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"> <%   	 String path =request.getContextPath();       User user1=new User();      if(request.getAttribute("users")!=null){    	  user1=(User)request.getAttribute("users");      } %>	<head>		<title>零元汇合伙人管理系统</title>		<meta http-equiv="pragma" content="no-cache">		<meta http-equiv="cache-control" content="no-cache">		<meta http-equiv="expires" content="0">		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">		<meta http-equiv="description" content="This is my page">		<link href="css/bootstrap.min.css" rel="stylesheet">	    <link href="css/datepicker3.css" rel="stylesheet">	    <link href="css/styles.css" rel="stylesheet">		<script type="text/javascript" src="<%=path %>/source/editAddress.js" charset="utf-8"></script>        <script type="text/javascript" src="<%=path %>/source/jquery.js" charset="utf-8"></script>        <script type="text/javascript" language="javascript">		function updatePsdOk(){  	       var newPsd = document.getElementById("password").value;		   var newPsdAgain = document.getElementById("newPsdAgain").value;		   var email= document.getElementById("email").value;		   var szReg=/^[A-Za-zd]+([-_.][A-Za-zd]+)*@([A-Za-zd]+[-.])+[A-Za-zd]{2,5}$/; 		   		   if(newPsd == "" || newPsdAgain == ""){		      alert("密码不能为空");		      document.getElementById("password").focus();		      return;		    }		   if(newPsd != newPsdAgain){		       alert("新密码2次输入不一致");		       document.getElementById("password").focus();		       return;		   } 		   		   if(newPsd!="" && newPsdAgain!="" && (newPsd.length < 6 || newPsd.length > 20 || newPsdAgain.length < 6 || newPsdAgain.length > 20)){			   alert("密码长度不能小于6位且大于20位,请重新输入密码");			   document.getElementById("password").focus();			   return;	       }		   var ls = 0;		   if(newPsd.match(/([a-z])+/)){ls++;}		   if(newPsd.match(/([0-9])+/)){ls++;}		   if(newPsd.match(/([A-Z])+/)){ls++;}		   if(newPsd.match(/[^a-zA-Z0-9]+/)){ls++;}		   if(ls>3){		       alert("密码复杂度不够,请重新设置");		       document.getElementById("password").focus();			   return;		   }		    		   if(email!="" && szReg.test(email)){			   alert("邮箱地址格式不对,请重新填写!");			   document.getElementById("email").focus();			   return ;		   }		    document.LoginForm.method.value="registerUserInfo";		    document.LoginForm.submit();		}			</script>	</head><body style="width:100%; margin:0px; padding:0px; font-size:13px;text-align:center"><%@ include file="/menu.jsp" %>	<form name="LoginForm" method="post" action="userLoginlist.do">	<div class="row">		<div class="col-lg-12">			<div class="panel panel-default">				<div class="panel-heading">完善个人资料</div>				<div class="panel-body">					<div class="col-md-6">							<div class="form-group">								<label>用户名</label>								<input type="hidden" name="method" id="method"/>								<input type="hidden" name="userid" id="userid" value="${userInfo.userid}"/>								<input class="form-control" placeholder="用户名" name="username" id="username" readonly="readonly" value="${userInfo.username}"/>							</div>							<div class="form-group">								<label>密码</label>								<input type="password" name="password" id="password" value="${userInfo.password}"  class="form-control">							</div>							<div class="form-group">								<label>再次密码</label>								<input type="password" name="newPsdAgain" id="newPsdAgain" value="${userInfo.password}" class="form-control">							</div>							<div class="form-group">								<label>真实姓名</label>								<input type="text" name="trueName" id="trueName" value="${userInfo.trueName}" class="form-control"/>							</div>							<div class="form-group">								<label>邮箱地址</label>								<input type="text" name="email" id="email" value="${userInfo.email}" class="form-control"/>							</div>					</div>					<div class="col-md-6">						<div class="form-group">							<label>性别</label>														<div class="radio">								<label>								<c1:choose>								    <c1:when test="${userInfo.sex=='1'}">								        <input type="radio" name="sex" value="1" checked="checked">男								    </c1:when>								    <c1:otherwise>								        <input type="radio" name="sex" value="1" >男								    </c1:otherwise>								</c1:choose>									</label>							</div>							<div class="radio">								<label>								  <c1:choose>								    <c1:when test="${userInfo.sex=='2'}">								        <input type="radio" name="sex" value="2" checked="checked">女								    </c1:when>								    <c1:otherwise>								        <input type="radio" name="sex" value="2" >女								    </c1:otherwise>								</c1:choose>									</label>							</div>						</div>                        <%  String bankName="";                            if(user1.getBankName()!=null && !"".equals(user1.getBankName())){                            	bankName=user1.getBankName();                            }                        %>						<div class="form-group">							<label>银行卡</label>							<select class="form-control" name="bankName" >							       <%if(!"".equals(bankName) && "1".equals(bankName)){ %>							           <option value="1" selected="selected">中国银行</option>							       <%}else{ %>							           <option value="1">中国银行</option>							       <%}if(!"".equals(bankName) && "2".equals(bankName)){ %>							           <option value="2" selected="selected">工商银行</option>							       <%}else{ %>							           <option value="2">工商银行</option>							       <%}if(!"".equals(bankName) && "3".equals(bankName)){ %>							           <option value="3" selected="selected">建设银行</option>							       <%}else{ %>							           <option value="3">建设银行</option>							       <%}if(!"".equals(bankName) && "4".equals(bankName)){ %>							           <option value="4" selected="selected">招商银行</option>							       <%}else{ %>							           <option value="4">招商银行</option>							       <%}if(!"".equals(bankName) && "5".equals(bankName)){ %>							           <option value="5" selected="selected">浦发银行</option>							       <%}else{ %>							           <option value="5">浦发银行</option>							       <%}if(!"".equals(bankName) && "6".equals(bankName)){ %>							           <option value="6" selected="selected">农业银行</option>							       <%}else{ %>							           <option value="6">农业银行</option>							       <%} %>							</select>						</div>						<div class="form-group">							<input class="form-control" placeholder="卡号" name="bankNo" value="${userInfo.bankNo}" id="bankNo">						</div>												<button type="button" class="btn btn-primary" onclick="updatePsdOk()">提交个人资料</button>					</div>				</div>			</div>		</div>	</div>    </form></body></html>